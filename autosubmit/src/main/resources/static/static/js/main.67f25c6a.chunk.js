(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{192:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),s=n(17),i=n.n(s),r=n(33),o=n(27),u=n(100),d={},j=Object(o.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"userInfo":return t.user;default:return e}}}),l=Object(o.d)(j,Object(o.a)(u.a)),b=n(49),h=n(8),p=(n(74),n(50)),f=n.n(p),O=(n(67),n(34)),m=n.n(O),g=(n(86),n(39)),x=n.n(g),y=(n(88),n(51)),v=n.n(y),w=(n(89),n(12)),k=n.n(w),C=n(20),z=n(19),A=n.n(z),S=n.p+"static/media/logo.556bb70b.png",Z=function(){var e=Object(a.useState)(),t=Object(C.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(),o=Object(C.a)(i,2),u=o[0],d=o[1],j=Object(a.useState)(),l=Object(C.a)(j,2),b=l[0],p=l[1],O=Object(r.b)(),g=Object(h.g)();Object(a.useEffect)((function(){y()}));var y=function(){s(document.body.clientWidth)};return Object(c.jsxs)("div",{style:{width:n},children:[Object(c.jsx)(v.a,{mode:"light",children:"\u65e5\u62a5\u8f85\u52a9\u7cfb\u7edf"}),Object(c.jsx)("img",{src:S,style:{height:100,width:n},alt:"logo"}),Object(c.jsxs)(m.a,{children:[Object(c.jsx)(x.a,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5b66\u53f7",onChange:function(e){return d(e)},children:"\u5b66\u53f7"}),Object(c.jsx)(x.a,{type:"password",clear:!0,placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801",onChange:function(e){return p(e)},children:"\u5bc6\u7801"})]}),Object(c.jsx)(f.a,{onClick:function(){A.a.post("user/login",{username:u,password:b}).then((function(e){O(function(e){return function(t){t({type:"userInfo",user:e})}}(e.data.data)),g.push("/home"),k.a.success("\u767b\u9646\u6210\u529f",1)})).catch((function(e){k.a.fail(e.response.data.msg,1)}))},type:"primary",style:{margin:20,borderRadius:20},children:"\u767b\u5f55"})]})},E=(n(186),n(71)),I=n.n(E),R=(n(188),n(72)),q=n.n(R),B=(n(40),n(37)),J=n.n(B),L=function(){var e=Object(a.useState)(),t=Object(C.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(),o=Object(C.a)(i,2),u=o[0],d=o[1],j=Object(a.useState)(),l=Object(C.a)(j,2),b=l[0],p=l[1],O=Object(a.useState)(),g=Object(C.a)(O,2),y=g[0],w=g[1],z=Object(r.c)((function(e){return e})),Z=Object(h.g)();Object(a.useEffect)((function(){R(),E()}),[]);var E=function(){d(z.user.member),p(z.user.sendEmail);var e=null===z.user.email?"":z.user.email;w(e)},R=function(){s(document.body.clientWidth)};return Object(c.jsxs)("div",{style:{width:n},children:[Object(c.jsx)(v.a,{mode:"light",icon:Object(c.jsx)(J.a,{type:"left"}),onLeftClick:function(){return Z.goBack()},children:"\u65e5\u62a5\u8f85\u52a9\u7cfb\u7edf"}),Object(c.jsx)(q.a,{marqueeProps:{loop:!0,style:{padding:"0 7.5px"}},children:"\u8f93\u5165\u90ae\u7bb1\u540e\uff0c\u9700\u8981\u70b9\u51fb\u4fdd\u5b58\u90ae\u7bb1\uff0c\u7136\u540e\u624d\u80fd\u6253\u5f00\u90ae\u4ef6\u63d0\u9192\uff0c\u5982\u6709\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"}),Object(c.jsx)(q.a,{marqueeProps:{loop:!0,style:{padding:"0 7.5px"}},children:"\u8bf7\u5927\u5bb6\u5c3d\u91cf\u4fdd\u5b58\u90ae\u7bb1\uff0c\u5982\u6709\u6253\u5361\u5931\u8d25\u7684\u60c5\u51b5\uff0c\u5219\u4f1a\u90ae\u4ef6\u63d0\u9192"}),Object(c.jsx)("img",{src:S,style:{height:100,width:n},alt:"logo"}),Object(c.jsxs)(m.a,{children:[Object(c.jsx)(m.a.Item,{extra:Object(c.jsx)(I.a,{checked:u,onChange:function(){u?A.a.post("user/update",{id:z.user.id,member:!1}).then((function(e){d(!1),k.a.success("\u5173\u95ed\u81ea\u52a8\u6253\u5361",1)})).catch((function(e){k.a.fail(e.response.data.msg,1)})):A.a.post("user/update",{id:z.user.id,member:!0}).then((function(e){d(!0),k.a.success("\u5f00\u542f\u81ea\u52a8\u6253\u5361",1)})).catch((function(e){k.a.fail(e.response.data.msg,1)}))}}),children:"\u81ea\u52a8\u6253\u5361"}),Object(c.jsx)(m.a.Item,{extra:Object(c.jsx)(I.a,{checked:b,onChange:function(){b?A.a.post("user/update",{id:z.user.id,sendEmail:!1}).then((function(e){p(!1),k.a.success("\u5173\u95ed\u90ae\u4ef6\u63d0\u9192",1)})).catch((function(e){k.a.fail(e.response.data.msg,1)})):A.a.post("user/update",{id:z.user.id,sendEmail:!0}).then((function(e){p(!0),k.a.success("\u5f00\u542f\u90ae\u4ef6\u63d0\u9192",1)})).catch((function(e){k.a.fail(e.response.data.msg,1)}))}}),children:"\u90ae\u4ef6\u63d0\u9192"}),Object(c.jsx)(x.a,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u6536\u4ef6\u90ae\u7bb1",value:y,onChange:function(e){return w(e)},children:"\u90ae\u7bb1"})]}),Object(c.jsx)(f.a,{onClick:function(){/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(y)?A.a.post("api/user/update",{id:z.user.id,email:y}).then((function(e){k.a.success("\u4fdd\u5b58\u90ae\u7bb1\u6210\u529f",1)})).catch((function(e){k.a.fail(e.response.data.msg,1)})):k.a.fail("\u8bf7\u8f93\u5165\u6b63\u786e\u90ae\u7bb1",1)},type:"primary",style:{margin:20,borderRadius:20},children:"\u4fdd\u5b58\u90ae\u7bb1"})]})};A.a.defaults.baseURL="http://47.98.128.88:8900/api/";var P=function(){return Object(c.jsx)(b.a,{children:Object(c.jsxs)(h.d,{children:[Object(c.jsx)(h.b,{path:"/login",component:Z}),Object(c.jsx)(h.b,{path:"/home",component:L}),Object(c.jsx)(h.a,{from:"/",to:"/login"})]})})};i.a.render(Object(c.jsx)(r.a,{store:l,children:Object(c.jsx)(P,{})}),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.67f25c6a.chunk.js.map