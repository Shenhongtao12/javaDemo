{"version":3,"sources":["images/logo.png","pages/login.tsx","pages/home.tsx","App.tsx","index.tsx"],"names":["Login","useState","initWidth","changeWidth","username","changeUsername","password","changPwd","email","changeEmail","useEffect","getInitWidth","document","body","clientWidth","style","width","src","logo","height","alt","clear","placeholder","onChange","e","type","onClick","test","axios","post","then","response","success","catch","error","fail","data","msg","margin","borderRadius","Home","checked","changeCheck","Item","extra","App","path","component","from","to","ReactDOM","render","getElementById"],"mappings":"+RAAe,MAA0B,iCCwE1BA,EAjEa,WAAO,IAAD,EACGC,qBADH,mBACvBC,EADuB,KACZC,EADY,OAEKF,qBAFL,mBAEvBG,EAFuB,KAEbC,EAFa,OAGDJ,qBAHC,mBAGvBK,EAHuB,KAGbC,EAHa,OAIDN,qBAJC,mBAIvBO,EAJuB,KAIhBC,EAJgB,KAO9BC,qBAAU,WACNC,OAGJ,IAAMA,EAAe,WACjBR,EAAYS,SAASC,KAAKC,cAqB9B,OACI,sBAAKC,MAAO,CAACC,MAAOd,GAApB,UACI,qBAAKe,IAAKC,EAAMH,MAAO,CAACI,OAAQ,IAAKH,MAAOd,GAAYkB,IAAI,SAC5D,8BACI,mBACIC,OAAK,EACLC,YAAY,6CACZC,SAAU,SAACC,GAAD,OAAOnB,EAAemB,IAHpC,0BAKA,mBACIC,KAAK,WACLJ,OAAK,EACLC,YAAY,6CACZC,SAAU,SAACC,GAAD,OAAOjB,EAASiB,IAJ9B,0BAMA,mBACIH,OAAK,EACLC,YAAY,yDACZC,SAAU,SAACC,GAAD,OAAOf,EAAYe,IAHjC,0BAKA,gJAEJ,mBACIE,QAzCE,WACJ,wIAAwIC,KAAKnB,GAG/IoB,IAAMC,KAAK,oBAAqB,CAC5BzB,WACAE,WACAE,UACDsB,MAAK,SAAUC,GAEd,IAAMC,QAAQ,+CAAa,MAC5BC,OAAM,SAAUC,GACf,IAAMC,KAAKD,EAAMH,SAASK,KAAKC,IAAK,MAVxC,IAAMF,KAAK,6CAAW,IAwClBV,KAAK,UACLV,MAAO,CAACuB,OAAQ,GAAIC,aAAc,IAHtC,8B,0BChBGC,EAzCY,WAAM,IAAD,EACIvC,qBADJ,mBACrBC,EADqB,KACXC,EADW,OAEEF,oBAAkB,GAFpB,mBAErBwC,EAFqB,KAEbC,EAFa,KAK5BhC,qBAAU,WACNC,OAGJ,IAAMA,EAAe,WACjBR,EAAYS,SAASC,KAAKC,cAgB9B,OACI,sBAAKC,MAAO,CAACC,MAAMd,GAAnB,UACI,qBAAKe,IAAKC,EAAMH,MAAO,CAACI,OAAO,IAAIH,MAAMd,GAAYkB,IAAI,SACzD,4BACI,kBAAMuB,KAAN,CACIC,MAAO,mBACHH,QAASA,EACTlB,SApBD,WACXkB,GAIAC,GAAY,GACZ,IAAMV,QAAQ,2BAAQ,KAJtBU,GAAY,GACZ,IAAMV,QAAQ,2BAAQ,OAclB,4CCpBDa,MAVf,WACI,OACQ,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAK,SAASC,UAAW/C,IAChC,cAAC,IAAD,CAAO8C,KAAK,QAAQC,UAAWP,IAC/B,cAAC,IAAD,CAAUQ,KAAK,IAAIC,GAAG,cCLtCC,IAASC,OACL,cAAC,IAAD,UACI,cAAC,EAAD,MAENvC,SAASwC,eAAe,W","file":"static/js/main.2e713d59.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.556bb70b.png\";","import React, {useState, useEffect} from 'react'\r\nimport {List, InputItem, Button, Toast} from 'antd-mobile';\r\nimport axios from 'axios'\r\nimport {useHistory} from 'react-router-dom'\r\nimport logo from '../images/logo.png'\r\n\r\n\r\nconst Login: React.FC<{}> = () => {\r\n    const [initWidth, changeWidth] = useState<any>()\r\n    const [username, changeUsername] = useState<string>()\r\n    const [password, changPwd] = useState<string>()\r\n    const [email, changeEmail] = useState<any>()\r\n    //let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        getInitWidth()\r\n    })\r\n\r\n    const getInitWidth = () => {\r\n        changeWidth(document.body.clientWidth)\r\n    }\r\n\r\n    const login = () => {\r\n        if (!(/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(email))) {\r\n            Toast.fail('请输入正确邮箱', 1);\r\n        } else {\r\n            axios.post('api/user/register', {\r\n                username,\r\n                password,\r\n                email,\r\n            }).then(function (response) {\r\n                //history.push(\"/home\");\r\n                Toast.success('每晚12点自动打卡', 1);\r\n            }).catch(function (error) {\r\n                Toast.fail(error.response.data.msg, 1);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{width: initWidth}}>\r\n            <img src={logo} style={{height: 100, width: initWidth}} alt=\"logo\"/>\r\n            <List>\r\n                <InputItem\r\n                    clear\r\n                    placeholder=\"请输入你的学号\"\r\n                    onChange={(e) => changeUsername(e)}\r\n                >学号</InputItem>\r\n                <InputItem\r\n                    type='password'\r\n                    clear\r\n                    placeholder=\"请输入你的密码\"\r\n                    onChange={(e) => changPwd(e)}\r\n                >密码</InputItem>\r\n                <InputItem\r\n                    clear\r\n                    placeholder=\"请输入你的收件邮箱\"\r\n                    onChange={(e) => changeEmail(e)}\r\n                >邮箱</InputItem>\r\n                <p>邮箱用于接收填写成功或失败的邮件通知</p>\r\n            </List>\r\n            <Button\r\n                onClick={login}\r\n                type=\"primary\"\r\n                style={{margin: 20, borderRadius: 20}}>\r\n                添加\r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React, {useState,useEffect} from 'react'\r\nimport {List, Switch,Toast} from 'antd-mobile';\r\nimport logo from \"../images/logo.png\";\r\n\r\n\r\nconst Home: React.FC<{}> = () =>{\r\n    const [initWidth,changeWidth] = useState<any>()\r\n    const [checked,changeCheck] = useState<boolean>(false)\r\n\r\n\r\n    useEffect(() => {\r\n        getInitWidth()\r\n    })\r\n\r\n    const getInitWidth = () => {\r\n        changeWidth(document.body.clientWidth )\r\n    }\r\n\r\n    const changeAuto = () => {\r\n        if(!checked){\r\n            changeCheck(true)\r\n            Toast.success('成功开启', 1);\r\n        }else{\r\n            changeCheck(false)\r\n            Toast.success('成功关闭', 1);\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div style={{width:initWidth}}>\r\n            <img src={logo} style={{height:100,width:initWidth}} alt=\"logo\"/>\r\n            <List>\r\n                <List.Item\r\n                    extra={<Switch\r\n                        checked={checked}\r\n                        onChange={changeAuto}\r\n                    />}\r\n                >自动打卡</List.Item>\r\n            </List>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React from 'react';\r\nimport {Switch, Route,Redirect} from 'react-router-dom'\r\nimport Login from './pages/login'\r\nimport Home from './pages/home'\r\n\r\nfunction App() {\r\n    return (\r\n            <Switch>\r\n                <Route path='/login' component={Login}/>\r\n                <Route path='/home' component={Home}/>\r\n                <Redirect from=\"/\" to=\"login\"/>\r\n            </Switch>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App/>\r\n    </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}